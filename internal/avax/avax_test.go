package avax

import (
	"fmt"
	"testing"

	"github.com/ava-labs/avalanchego/utils/formatting"
	"github.com/ava-labs/subnet-cli/internal/codec"
)

func TestParse(t *testing.T) {
	d := "0x000000000000000000000000000000000000000000000000000000000000000000000000000088eec2e099c6a528e689618e8721e04ae85ea574c7a15a7968644d14d54780140000000702c68af0bb1400000000000000000000000000010000000165844a05405f3662c1928142c6c2a783ef871de939b564db"
	b, err := formatting.Decode(formatting.Hex, d)
	if err != nil {
		t.Fatal(err)
	}

	p, err := ParseUTXO(b, codec.PCodecManager)
	if err != nil {
		t.Fatal(err)
	}
	fmt.Println(p)
}

/*
{"jsonrpc":"2.0","result":{"numFetched":"1","utxos":["0x000000000000000000000000000000000000000000000000000000000000000000000000000088eec2e099c6a528e689618e8721e04ae85ea574c7a15a7968644d14d54780140000000702c68af0bb1400000000000000000000000000010000000165844a05405f3662c1928142c6c2a783ef871de939b564db"],"endIndex":{"address":"P-custom1vkzy5p2qtumx9svjs9pvds48s0hcw80f962vrs","utxo":"LUC1cmcxnfNR9LdkACS2ccGKLEK7SYqB4gLLTycQfg1koyfSq"},"encoding":"hex"},"id":1}
0x000000000000000000000000000000000000000000000000000000000000000000000000000088eec2e099c6a528e689618e8721e04ae85ea574c7a15a7968644d14d54780140000000702c68af0bb1400000000000000000000000000010000000165844a05405f3662c1928142c6c2a783ef871de939b564db
*/
